import{j as kt}from"./index-DLJkMWUB.js";import{r as n,a as eo}from"./router-DWxcwEcu.js";const tn="carousel",Ze="controller",to="navigation",no="no-scroll",ut="portal",oo="root",nn="toolbar",Ot="captions",Re="fullscreen",Dt="slideshow",Ne="thumbnails",Ft="zoom",we="loading",ot="playing",Le="error",Te="complete",ro="placeholder",ke=e=>"active-slide-".concat(e),on=ke(we),rn=ke(ot),io=ke(Le),ln=ke(Te),sn="fullsize",he="flex_center",lo="no_scroll",cn="no_scroll_padding",dt="slide_wrapper",so="slide_wrapper_interactive",se="prev",ce="next",rt="swipe",xe="close",an="onPointerDown",un="onPointerMove",dn="onPointerUp",fn="onPointerLeave",hn="onPointerCancel",ft="onKeyDown",co="onKeyUp",ht="onWheel",ao="Escape",uo="ArrowLeft",fo="ArrowRight",ho="button",ze="icon",mn="contain",At="cover",pn="Unknown action type",vn="yarl__";function B(...e){return[...e].filter(Boolean).join(" ")}function I(e){return"".concat(vn).concat(e)}function V(e){return"--".concat(vn).concat(e)}function me(e,t){return"".concat(e).concat(t?"_".concat(t):"")}function pe(e){return t=>me(e,t)}function mo(e,t){var r;return(r=e==null?void 0:e[t])!==null&&r!==void 0?r:t}function Pe(...e){return()=>{e.forEach(t=>{t()})}}function Q(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error("".concat(e," must be used within a ").concat(t,".Provider"));return o}}function mt(){return typeof window<"u"}function pt(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function ve(e){return e.type===void 0||e.type==="image"}function vt(e,t){return e.imageFit===At||e.imageFit!==mn&&t===At}function Ue(e){return typeof e=="string"?Number.parseInt(e,10):e}function He(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Ue(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function po(e,t){const r=He(t),o=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*o,0),height:Math.max(e.height-2*o,0)}}function vo(){return(mt()?window==null?void 0:window.devicePixelRatio:void 0)||1}function gn(e,t){return t>0?(e%t+t)%t:0}function gt(e){return e.length>0}function Et(e,t){return e[gn(t,e.length)]}function it(e,t){return gt(e)?Et(e,t):void 0}function En(e){return ve(e)?e.src:void 0}function Oe(e,t,r){if(!r)return e;const{buttons:o,...i}=e,l=o.findIndex(c=>c===t),s=n.isValidElement(r)?n.cloneElement(r,{key:t},null):r;if(l>=0){const c=[...o];return c.splice(l,1,s),{buttons:c,...i}}return{buttons:[s,...o],...i}}function bn(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const go=Number(n.version.split(".")[0])>=19;function Eo(e){return{inert:go?e:e?"":void 0}}const lt={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[xe]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:mn,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function J(e,t){return{name:e,component:t}}function Z(e,t){return{module:e,children:t}}function wn(e,t,r){return e.module.name===t?r(e):e.children?[Z(e.module,e.children.flatMap(o=>{var i;return(i=wn(o,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function be(e,t,r){return e.flatMap(o=>{var i;return(i=wn(o,t,r))!==null&&i!==void 0?i:[]})}function bo(e,t=[],r=[]){let o=e;const i=p=>{const h=[...o];for(;h.length>0;){const g=h.pop();if((g==null?void 0:g.module.name)===p)return!0;g!=null&&g.children&&h.push(...g.children)}return!1},l=(p,h)=>{if(p===""){o=[Z(h,o)];return}o=be(o,p,g=>[Z(h,[g])])},s=(p,h)=>{o=be(o,p,g=>[Z(g.module,[Z(h,g.children)])])},c=(p,h,g)=>{o=be(o,p,v=>{var x;return[Z(v.module,[...g?[Z(h)]:[],...(x=v.children)!==null&&x!==void 0?x:[],...g?[]:[Z(h)]])]})},a=(p,h,g)=>{o=be(o,p,v=>[...g?[Z(h)]:[],v,...g?[]:[Z(h)]])},u=p=>{s(Ze,p)},d=(p,h)=>{o=be(o,p,g=>[Z(h,g.children)])},f=p=>{o=be(o,p,h=>h.children)},E=p=>{r.push(p)};return t.forEach(p=>{p({contains:i,addParent:l,append:s,addChild:c,addSibling:a,addModule:u,replace:d,remove:f,augment:E})}),{config:o,augmentation:p=>r.reduce((h,g)=>g(h),p)}}const Cn=n.createContext(null),_e=Q("useDocument","DocumentContext",Cn);function wo({nodeRef:e,children:t}){const r=n.useMemo(()=>{const o=l=>{var s;return((s=l||e.current)===null||s===void 0?void 0:s.ownerDocument)||document};return{getOwnerDocument:o,getOwnerWindow:l=>{var s;return((s=o(l))===null||s===void 0?void 0:s.defaultView)||window}}},[e]);return n.createElement(Cn.Provider,{value:r},t)}const xn=n.createContext(null),ge=Q("useEvents","EventsContext",xn);function Co({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(o=>delete t[o])},[t]);const r=n.useMemo(()=>{const o=(s,c)=>{var a;(a=t[s])===null||a===void 0||a.splice(0,t[s].length,...t[s].filter(u=>u!==c))};return{publish:(...[s,c])=>{var a;(a=t[s])===null||a===void 0||a.forEach(u=>u(c))},subscribe:(s,c)=>(t[s]||(t[s]=[]),t[s].push(c),()=>o(s,c)),unsubscribe:o}},[t]);return n.createElement(xn.Provider,{value:r},e)}const Pn=n.createContext(null),H=Q("useLightboxProps","LightboxPropsContext",Pn);function _n({children:e,...t}){return n.createElement(Pn.Provider,{value:t},e)}const yn=n.createContext(null),le=Q("useLightboxState","LightboxStateContext",yn),Sn=n.createContext(null),xo=Q("useLightboxDispatch","LightboxDispatchContext",Sn);function Po(e,t){switch(t.type){case"swipe":{const{slides:r}=e,o=(t==null?void 0:t.increment)||0,i=e.globalIndex+o,l=gn(i,r.length),s=it(r,l),c=o||t.duration?{increment:o,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:l,globalIndex:i,currentSlide:s,animation:c}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:it(t.slides,t.index)}:e;default:throw new Error(pn)}}function _o({slides:e,index:t,children:r}){const[o,i]=n.useReducer(Po,{slides:e,currentIndex:t,globalIndex:t,currentSlide:it(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const l=n.useMemo(()=>({...o,state:o,dispatch:i}),[o,i]);return n.createElement(Sn.Provider,{value:i},n.createElement(yn.Provider,{value:l},r))}const Mn=n.createContext(null),De=Q("useTimeouts","TimeoutsContext",Mn);function yo({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(o=>window.clearTimeout(o)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const o=s=>{t.splice(0,t.length,...t.filter(c=>c!==s))};return{setTimeout:(s,c)=>{const a=window.setTimeout(()=>{o(a),s()},c);return t.push(a),a},clearTimeout:s=>{s!==void 0&&(o(s),window.clearTimeout(s))}}},[t]);return n.createElement(Mn.Provider,{value:r},e)}const Ee=n.forwardRef(function({label:t,className:r,icon:o,renderIcon:i,onClick:l,style:s,...c},a){const{styles:u,labels:d}=H(),f=mo(d,t);return n.createElement("button",{ref:a,type:"button",title:f,"aria-label":f,className:B(I(ho),r),onClick:l,style:{...s,...u.button},...c},i?i():n.createElement(o,{className:I(ze),style:u.icon}))});function In(e,t){const r=o=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},t);return r.displayName=e,r}function K(e,t){return In(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Ln(e,t){return In(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const So=K("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Mo=K("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Io=K("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Lo=K("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:"rotate(".concat(360/r.length*t,", 12, 12)")})))),To=K("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),oe=mt()?n.useLayoutEffect:n.useEffect;function bt(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,o;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const l=s=>t(s.matches);return(o=i==null?void 0:i.addEventListener)===null||o===void 0||o.call(i,"change",l),()=>{var s;return(s=i==null?void 0:i.removeEventListener)===null||s===void 0?void 0:s.call(i,"change",l)}},[]),e}function Ro(e){let t=0,r=0,o=0;const l=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(l){const s=l[1].split(",").map(Ue);s.length===6?(t=s[4],r=s[5]):s.length===16&&(t=s[12],r=s[13],o=s[14])}return{x:t,y:r,z:o}}function st(e,t){const r=n.useRef(),o=n.useRef(),i=bt();return oe(()=>{var l,s,c;if(e.current&&r.current!==void 0&&!i){const{keyframes:a,duration:u,easing:d,onfinish:f}=t(r.current,e.current.getBoundingClientRect(),Ro(e.current))||{};if(a&&u){(l=o.current)===null||l===void 0||l.cancel(),o.current=void 0;try{o.current=(c=(s=e.current).animate)===null||c===void 0?void 0:c.call(s,a,{duration:u,easing:d})}catch(E){}o.current&&(o.current.onfinish=()=>{o.current=void 0,f==null||f()})}}r.current=void 0}),{prepareAnimation:l=>{r.current=l},isAnimationPlaying:()=>{var l;return((l=o.current)===null||l===void 0?void 0:l.playState)==="running"}}}function wt(){const e=n.useRef(null),t=n.useRef(),[r,o]=n.useState();return{setContainerRef:n.useCallback(l=>{e.current=l,t.current&&(t.current.disconnect(),t.current=void 0);const s=()=>{if(l){const c=window.getComputedStyle(l),a=u=>parseFloat(u)||0;o({width:Math.round(l.clientWidth-a(c.paddingLeft)-a(c.paddingRight)),height:Math.round(l.clientHeight-a(c.paddingTop)-a(c.paddingBottom))})}else o(void 0)};s(),l&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(s),t.current.observe(l))},[]),containerRef:e,containerRect:r}}function We(){const e=n.useRef(),{setTimeout:t,clearTimeout:r}=De();return n.useCallback((o,i)=>{r(e.current),e.current=t(o,i>0?i:0)},[t,r])}function k(e){const t=n.useRef(e);return oe(()=>{t.current=e}),n.useCallback((...r)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...r)},[])}function Vt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ct(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{Vt(e,r),Vt(t,r)},[e,t])}function Tn(e,t=!1){const r=n.useRef();oe(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const o=n.useCallback(()=>{r.current=!0},[]),i=n.useCallback(()=>{r.current=!1},[]);return{onFocus:o,onBlur:i}}function Be(){const[e,t]=n.useState(!1);return oe(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Rn(){const[e]=n.useState({}),t=n.useCallback((i,l)=>{var s;(s=e[i])===null||s===void 0||s.forEach(c=>{l.isPropagationStopped()||c(l)})},[e]),r=n.useMemo(()=>({onPointerDown:i=>t(an,i),onPointerMove:i=>t(un,i),onPointerUp:i=>t(dn,i),onPointerLeave:i=>t(fn,i),onPointerCancel:i=>t(hn,i),onKeyDown:i=>t(ft,i),onKeyUp:i=>t(co,i),onWheel:i=>t(ht,i)}),[t]),o=n.useCallback((i,l)=>(e[i]||(e[i]=[]),e[i].unshift(l),()=>{const s=e[i];s&&s.splice(0,s.length,...s.filter(c=>c!==l))}),[e]);return{registerSensors:r,subscribeSensors:o}}function $t(e,t){const r=n.useRef(0),o=We(),i=k((...l)=>{r.current=Date.now(),e(l)});return n.useCallback((...l)=>{o(()=>{i(l)},t-(Date.now()-r.current))},[t,i,o])}const Qe=pe("slide"),Je=pe("slide_image");function de({slide:e,offset:t,render:r,rect:o,imageFit:i,imageProps:l,onClick:s,onLoad:c,onError:a,style:u}){var d,f,E,p,h,g,v;const[x,C]=n.useState(we),{publish:m}=ge(),{setTimeout:T}=De(),w=n.useRef(null);n.useEffect(()=>{t===0&&m(ke(x))},[t,x,m]);const S=k(N=>{("decode"in N?N.decode():Promise.resolve()).catch(()=>{}).then(()=>{N.parentNode&&(C(Te),T(()=>{c==null||c(N)},0))})}),L=n.useCallback(N=>{w.current=N,N!=null&&N.complete&&S(N)},[S]),F=n.useCallback(N=>{S(N.currentTarget)},[S]),b=k(()=>{C(Le),a==null||a()}),M=vt(e,i),O=(N,G)=>Number.isFinite(N)?N:G,A=O(Math.max(...((f=(d=e.srcSet)===null||d===void 0?void 0:d.map(N=>N.width))!==null&&f!==void 0?f:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((E=w.current)===null||E===void 0?void 0:E.naturalWidth)||0),$=O(Math.max(...((h=(p=e.srcSet)===null||p===void 0?void 0:p.map(N=>N.height))!==null&&h!==void 0?h:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((g=w.current)===null||g===void 0?void 0:g.naturalHeight)||0),y=A&&$?{maxWidth:"min(".concat(A,"px, 100%)"),maxHeight:"min(".concat($,"px, 100%)")}:{maxWidth:"100%",maxHeight:"100%"},P=(v=e.srcSet)===null||v===void 0?void 0:v.sort((N,G)=>N.width-G.width).map(N=>"".concat(N.src," ").concat(N.width,"w")).join(", "),R=()=>o&&!M&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,D=P&&o&&mt()?"".concat(Math.round(Math.min(R(),o.width)),"px"):void 0,{style:z,className:j,...te}=l||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:L,onLoad:F,onError:b,onClick:s,draggable:!1,className:B(I(Je()),M&&I(Je("cover")),x!==Te&&I(Je("loading")),j),style:{...y,...u,...z},...te,alt:e.alt,sizes:D,srcSet:P,src:e.src}),x!==Te&&n.createElement("div",{className:I(Qe(ro))},x===we&&(r!=null&&r.iconLoading?r.iconLoading():n.createElement(Lo,{className:B(I(ze),I(Qe(we)))})),x===Le&&(r!=null&&r.iconError?r.iconError():n.createElement(To,{className:B(I(ze),I(Qe(Le)))}))))}const No=n.forwardRef(function({className:t,children:r,...o},i){const l=n.useRef(null);return n.createElement(wo,{nodeRef:l},n.createElement("div",{ref:ct(i,l),className:B(I("root"),t),...o},r))});var X;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(X||(X={}));function Nn(e,t,r,o,i){n.useEffect(()=>i?()=>{}:Pe(e(an,t),e(un,r),e(dn,o),e(fn,o),e(hn,o)),[e,t,r,o,i])}var ne;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(ne||(ne={}));const et=30;function ko(e,t,r,o,i,l,s,c,a,u,d,f,E,p){const h=n.useRef(0),g=n.useRef([]),v=n.useRef(),x=n.useRef(0),C=n.useRef(ne.NONE),m=n.useCallback(b=>{v.current===b.pointerId&&(v.current=void 0,C.current=ne.NONE);const M=g.current;M.splice(0,M.length,...M.filter(O=>O.pointerId!==b.pointerId))},[]),T=n.useCallback(b=>{m(b),b.persist(),g.current.push(b)},[m]),w=k(b=>{T(b)}),S=(b,M)=>u&&b>M||a&&b<-M,L=k(b=>{if(g.current.find(M=>M.pointerId===b.pointerId)&&v.current===b.pointerId){const M=Date.now()-x.current,O=h.current;C.current===ne.SWIPE?Math.abs(O)>.3*r||Math.abs(O)>5&&M<o?s(O,M):c(O):C.current===ne.PULL&&(S(O,2*et)?E(O,M):p(O)),h.current=0,C.current=ne.NONE}m(b)}),F=k(b=>{const M=g.current.find(O=>O.pointerId===b.pointerId);if(M){const O=v.current===b.pointerId;if(b.buttons===0){O&&h.current!==0?L(b):m(M);return}const A=b.clientX-M.clientX,$=b.clientY-M.clientY;if(v.current===void 0){const y=P=>{T(b),v.current=b.pointerId,x.current=Date.now(),C.current=P};Math.abs(A)>Math.abs($)&&Math.abs(A)>et&&t(A)?(y(ne.SWIPE),i()):Math.abs($)>Math.abs(A)&&S($,et)&&(y(ne.PULL),d())}else O&&(C.current===ne.SWIPE?(h.current=A,l(A)):C.current===ne.PULL&&(h.current=$,f($)))}});Nn(e,w,F,L)}function Oo({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=k(i=>{const l=Math.abs(i.deltaX)>Math.abs(i.deltaY);(l&&e||!l&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var l;i?i.addEventListener("wheel",o,{passive:!1}):(l=r.current)===null||l===void 0||l.removeEventListener("wheel",o),r.current=i},[o])}function Do(e,t,r,o,i,l,s,c,a){const u=n.useRef(0),d=n.useRef(0),f=n.useRef(),E=n.useRef(),p=n.useRef(0),h=n.useRef(0),{setTimeout:g,clearTimeout:v}=De(),x=n.useCallback(()=>{f.current&&(v(f.current),f.current=void 0)},[v]),C=n.useCallback(()=>{E.current&&(v(E.current),E.current=void 0)},[v]),m=k(()=>{e!==X.SWIPE&&(u.current=0,h.current=0,x(),C())});n.useEffect(m,[e,m]);const T=k(S=>{E.current=void 0,u.current===S&&a(u.current)}),w=k(S=>{if(!S.ctrlKey&&!(Math.abs(S.deltaY)>Math.abs(S.deltaX)))if(e===X.NONE){if(Math.abs(S.deltaX)<=1.2*Math.abs(p.current)){p.current=S.deltaX;return}if(!r(-S.deltaX))return;if(d.current+=S.deltaX,x(),Math.abs(d.current)>30)d.current=0,p.current=0,h.current=Date.now(),l();else{const L=d.current;f.current=g(()=>{f.current=void 0,L===d.current&&(d.current=0)},i)}}else if(e===X.SWIPE){let L=u.current-S.deltaX;if(L=Math.min(Math.abs(L),o)*Math.sign(L),u.current=L,s(L),C(),Math.abs(L)>.2*o){p.current=S.deltaX,c(L,Date.now()-h.current);return}E.current=g(()=>T(L),2*i)}else p.current=S.deltaX});n.useEffect(()=>t(ht,w),[t,w])}const Wt=pe("container"),kn=n.createContext(null),ee=Q("useController","ControllerContext",kn);function Fo({children:e,...t}){var r;const{carousel:o,animation:i,controller:l,on:s,styles:c,render:a}=t,{closeOnPullUp:u,closeOnPullDown:d,preventDefaultWheelX:f,preventDefaultWheelY:E}=l,[p,h]=n.useState(),g=le(),v=xo(),[x,C]=n.useState(X.NONE),m=n.useRef(0),T=n.useRef(0),w=n.useRef(1),{registerSensors:S,subscribeSensors:L}=Rn(),{subscribe:F,publish:b}=ge(),M=We(),O=We(),A=We(),{containerRef:$,setContainerRef:y,containerRect:P}=wt(),R=ct(Oo({preventDefaultWheelX:f,preventDefaultWheelY:E}),y),D=n.useRef(null),z=ct(D,void 0),{getOwnerDocument:j}=_e(),te=Be(),N=_=>(te?-1:1)*(typeof _=="number"?_:1),G=k(()=>{var _;return(_=$.current)===null||_===void 0?void 0:_.focus()}),yt=k(()=>t),St=k(()=>g),Fe=n.useCallback(_=>b(se,_),[b]),Ae=n.useCallback(_=>b(ce,_),[b]),ye=n.useCallback(()=>b(xe),[b]),Ye=_=>!(o.finite&&(N(_)>0&&g.currentIndex===0||N(_)<0&&g.currentIndex===g.slides.length-1)),Mt=_=>{var W;m.current=_,(W=$.current)===null||W===void 0||W.style.setProperty(V("swipe_offset"),"".concat(Math.round(_),"px"))},Ke=_=>{var W,Y;T.current=_,w.current=(()=>{const Me=d&&_>0?_:u&&_<0?-_:0;return Math.min(Math.max(pt(1-Me/60*(1-.5),2),.5),1)})(),(W=$.current)===null||W===void 0||W.style.setProperty(V("pull_offset"),"".concat(Math.round(_),"px")),(Y=$.current)===null||Y===void 0||Y.style.setProperty(V("pull_opacity"),"".concat(w.current))},{prepareAnimation:jn}=st(D,(_,W,Y)=>{if(D.current&&P)return{keyframes:[{transform:"translate(0, ".concat(_.rect.y-W.y+Y.y,"px)"),opacity:_.opacity},{transform:"translate(0, 0)",opacity:1}],duration:_.duration,easing:i.easing.fade}}),It=(_,W)=>{if(u||d){Ke(_);let Y=0;D.current&&(Y=i.fade*(W?2:1),jn({rect:D.current.getBoundingClientRect(),opacity:w.current,duration:Y})),A(()=>{Ke(0),C(X.NONE)},Y),C(X.ANIMATION),W||ye()}},{prepareAnimation:Gn,isAnimationPlaying:qn}=st(D,(_,W,Y)=>{var re;if(D.current&&P&&(!((re=g.animation)===null||re===void 0)&&re.duration)){const q=He(o.spacing),Me=(q.percent?q.percent*P.width/100:q.pixel)||0;return{keyframes:[{transform:"translate(".concat(N(g.globalIndex-_.index)*(P.width+Me)+_.rect.x-W.x+Y.x,"px, 0)")},{transform:"translate(0, 0)"}],duration:g.animation.duration,easing:g.animation.easing}}}),Se=k(_=>{var W,Y;const re=_.offset||0,q=re?i.swipe:(W=i.navigation)!==null&&W!==void 0?W:i.swipe,Me=!re&&!qn()?i.easing.navigation:i.easing.swipe;let{direction:Ve}=_;const $e=(Y=_.count)!==null&&Y!==void 0?Y:1;let je=X.ANIMATION,ie=q*$e;if(!Ve){const Ie=P==null?void 0:P.width,Nt=_.duration||0,qe=Ie?q/Ie*Math.abs(re):q;$e!==0?(Nt<qe?ie=ie/qe*Math.max(Nt,qe/5):Ie&&(ie=q/Ie*(Ie-Math.abs(re))),Ve=N(re)>0?se:ce):ie=q/2}let Ge=0;Ve===se?Ye(N(1))?Ge=-$e:(je=X.NONE,ie=q):Ve===ce&&(Ye(N(-1))?Ge=$e:(je=X.NONE,ie=q)),ie=Math.round(ie),O(()=>{Mt(0),C(X.NONE)},ie),D.current&&Gn({rect:D.current.getBoundingClientRect(),index:g.globalIndex}),C(je),b(rt,{type:"swipe",increment:Ge,duration:ie,easing:Me})});n.useEffect(()=>{var _,W;!((_=g.animation)===null||_===void 0)&&_.increment&&(!((W=g.animation)===null||W===void 0)&&W.duration)&&M(()=>v({type:"swipe",increment:0}),g.animation.duration)},[g.animation,v,M]);const Lt=[L,Ye,(P==null?void 0:P.width)||0,i.swipe,()=>C(X.SWIPE),_=>Mt(_),(_,W)=>Se({offset:_,duration:W,count:1}),_=>Se({offset:_,count:0})],Qn=[()=>{d&&C(X.PULL)},_=>Ke(_),_=>It(_),_=>It(_,!0)];ko(...Lt,u,d,...Qn),Do(x,...Lt);const Tt=k(()=>{l.focus&&j().querySelector(".".concat(I(ut)," .").concat(I(Wt())))&&G()});n.useEffect(Tt,[Tt]);const Rt=k(()=>{var _;(_=s.view)===null||_===void 0||_.call(s,{index:g.currentIndex})});n.useEffect(Rt,[g.globalIndex,Rt]),n.useEffect(()=>Pe(F(se,_=>Se({direction:se,..._})),F(ce,_=>Se({direction:ce,..._})),F(rt,_=>v(_))),[F,Se,v]);const Jn=n.useMemo(()=>({prev:Fe,next:Ae,close:ye,focus:G,slideRect:P?po(P,o.padding):{width:0,height:0},containerRect:P||{width:0,height:0},subscribeSensors:L,containerRef:$,setCarouselRef:z,toolbarWidth:p,setToolbarWidth:h}),[Fe,Ae,ye,G,L,P,$,z,p,h,o.padding]);return n.useImperativeHandle(l.ref,()=>({prev:Fe,next:Ae,close:ye,focus:G,getLightboxProps:yt,getLightboxState:St}),[Fe,Ae,ye,G,yt,St]),n.createElement("div",{ref:R,className:B(I(Wt()),I(he)),style:{...x===X.SWIPE?{[V("swipe_offset")]:"".concat(Math.round(m.current),"px")}:null,...x===X.PULL?{[V("pull_offset")]:"".concat(Math.round(T.current),"px"),[V("pull_opacity")]:"".concat(w.current)}:null,...l.touchAction!=="none"?{[V("controller_touch_action")]:l.touchAction}:null,...c.container},...l.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...S},P&&n.createElement(kn.Provider,{value:Jn},e,(r=a.controls)===null||r===void 0?void 0:r.call(a)))}const Ao=J(Ze,Fo);function ae(e){return me(tn,e)}function zt(e){return me("slide",e)}function Vo({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o}=le(),{slideRect:i,close:l,focus:s}=ee(),{render:c,carousel:{imageFit:a,imageProps:u},on:{click:d},controller:{closeOnBackdropClick:f},styles:{slide:E}}=H(),{getOwnerDocument:p}=_e(),h=t!==0;n.useEffect(()=>{var x;h&&(!((x=r.current)===null||x===void 0)&&x.contains(p().activeElement))&&s()},[h,s,p]);const g=()=>{var x,C,m,T;let w=(x=c.slide)===null||x===void 0?void 0:x.call(c,{slide:e,offset:t,rect:i});return!w&&ve(e)&&(w=n.createElement(de,{slide:e,offset:t,render:c,rect:i,imageFit:a,imageProps:u,onClick:h?void 0:()=>d==null?void 0:d({index:o})})),w?n.createElement(n.Fragment,null,(C=c.slideHeader)===null||C===void 0?void 0:C.call(c,{slide:e}),((m=c.slideContainer)!==null&&m!==void 0?m:({children:S})=>S)({slide:e,children:w}),(T=c.slideFooter)===null||T===void 0?void 0:T.call(c,{slide:e})):null},v=x=>{const C=r.current,m=x.target instanceof HTMLElement?x.target:void 0;f&&m&&C&&(m===C||Array.from(C.children).find(T=>T===m)&&m.classList.contains(I(dt)))&&l()};return n.createElement("div",{ref:r,className:B(I(zt()),!h&&I(zt("current")),I(he)),...Eo(h),onClick:v,style:E},g())}function $o(){const e=H().styles.slide;return n.createElement("div",{className:I("slide"),style:e})}function Wo({carousel:e}){const{slides:t,currentIndex:r,globalIndex:o}=le(),{setCarouselRef:i}=ee(),l=He(e.spacing),s=He(e.padding),c=bn(e,t,1),a=[];if(gt(t))for(let u=r-c;u<=r+c;u+=1){const d=Et(t,u),f=o-r+u,E=e.finite&&(u<0||u>t.length-1);a.push(E?{key:f}:{key:["".concat(f),En(d)].filter(Boolean).join("|"),offset:u-r,slide:d})}return n.createElement("div",{ref:i,className:B(I(ae()),a.length>0&&I(ae("with_slides"))),style:{["".concat(V(ae("slides_count")))]:a.length,["".concat(V(ae("spacing_px")))]:l.pixel||0,["".concat(V(ae("spacing_percent")))]:l.percent||0,["".concat(V(ae("padding_px")))]:s.pixel||0,["".concat(V(ae("padding_percent")))]:s.percent||0}},a.map(({key:u,slide:d,offset:f})=>d?n.createElement(Vo,{key:u,slide:d,offset:f}):n.createElement($o,{key:u})))}const zo=J(tn,Wo);function On(){const{carousel:e}=H(),{slides:t,currentIndex:r}=le(),o=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:o,nextDisabled:i}}function Dn(e){var t;const r=Be(),{publish:o}=ge(),{animation:i}=H(),{prevDisabled:l,nextDisabled:s}=On(),c=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,a=$t(()=>o(se),c),u=$t(()=>o(ce),c),d=k(f=>{switch(f.key){case ao:o(xe);break;case uo:(r?s:l)||(r?u:a)();break;case fo:(r?l:s)||(r?a:u)();break}});n.useEffect(()=>e(ft,d),[e,d])}function Ht({label:e,icon:t,renderIcon:r,action:o,onClick:i,disabled:l,style:s}){return n.createElement(Ee,{label:e,icon:t,renderIcon:r,className:I("navigation_".concat(o)),disabled:l,onClick:i,style:s,...Tn(ee().focus,l)})}function Ho({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:i}){const{prev:l,next:s,subscribeSensors:c}=ee(),{prevDisabled:a,nextDisabled:u}=On();return Dn(c),n.createElement(n.Fragment,null,e?e():n.createElement(Ht,{label:"Previous",action:se,icon:Mo,renderIcon:r,style:i.navigationPrev,disabled:a,onClick:l}),t?t():n.createElement(Ht,{label:"Next",action:ce,icon:Io,renderIcon:o,style:i.navigationNext,disabled:u,onClick:s}))}const Zo=J(to,Ho),Zt=I(lo),Uo=I(cn);function Bo(e){return"style"in e}function Ut(e,t,r){const o=window.getComputedStyle(e),i=r?"padding-left":"padding-right",l=r?o.paddingLeft:o.paddingRight,s=e.style.getPropertyValue(i);return e.style.setProperty(i,"".concat((Ue(l)||0)+t,"px")),()=>{s?e.style.setProperty(i,s):e.style.removeProperty(i)}}function Xo({noScroll:{disabled:e},children:t}){const r=Be(),{getOwnerDocument:o,getOwnerWindow:i}=_e();return n.useEffect(()=>{if(e)return()=>{};const l=[],s=i(),{body:c,documentElement:a}=o(),u=Math.round(s.innerWidth-a.clientWidth);if(u>0){l.push(Ut(c,u,r));const d=c.getElementsByTagName("*");for(let f=0;f<d.length;f+=1){const E=d[f];Bo(E)&&s.getComputedStyle(E).getPropertyValue("position")==="fixed"&&!E.classList.contains(Uo)&&l.push(Ut(E,u,r))}}return c.classList.add(Zt),()=>{c.classList.remove(Zt),l.forEach(d=>d())}},[r,e,o,i]),n.createElement(n.Fragment,null,t)}const Yo=J(no,Xo);function Bt(e){return me(ut,e)}function Xt(e,t,r){const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o?e.setAttribute(t,o):e.removeAttribute(t)}}function Ko({children:e,animation:t,styles:r,className:o,on:i,portal:l,close:s}){const[c,a]=n.useState(!1),[u,d]=n.useState(!1),f=n.useRef([]),E=n.useRef(null),{setTimeout:p}=De(),{subscribe:h}=ge(),v=bt()?0:t.fade;n.useEffect(()=>(a(!0),()=>{a(!1),d(!1)}),[]);const x=k(()=>{f.current.forEach(w=>w()),f.current=[]}),C=k(()=>{var w;d(!1),x(),(w=i.exiting)===null||w===void 0||w.call(i),p(()=>{var S;(S=i.exited)===null||S===void 0||S.call(i),s()},v)});n.useEffect(()=>h(xe,C),[h,C]);const m=k(w=>{var S,L,F;w.scrollTop,d(!0),(S=i.entering)===null||S===void 0||S.call(i);const b=(F=(L=w.parentNode)===null||L===void 0?void 0:L.children)!==null&&F!==void 0?F:[];for(let M=0;M<b.length;M+=1){const O=b[M];["TEMPLATE","SCRIPT","STYLE"].indexOf(O.tagName)===-1&&O!==w&&(f.current.push(Xt(O,"inert","")),f.current.push(Xt(O,"aria-hidden","true")))}f.current.push(()=>{var M,O;(O=(M=E.current)===null||M===void 0?void 0:M.focus)===null||O===void 0||O.call(M)}),p(()=>{var M;(M=i.entered)===null||M===void 0||M.call(i)},v)}),T=n.useCallback(w=>{w?m(w):x()},[m,x]);return c?eo.createPortal(n.createElement(No,{ref:T,className:B(o,I(Bt()),I(cn),u&&I(Bt("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==lt.animation.fade?{[V("fade_animation_duration")]:"".concat(v,"ms")}:null,...t.easing.fade!==lt.animation.easing.fade?{[V("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:w=>{E.current||(E.current=w.relatedTarget)}},e),l.root||document.body):null}const jo=J(ut,Ko);function Go({children:e}){return n.createElement(n.Fragment,null,e)}const qo=J(oo,Go);function Qo(e){return me(nn,e)}function Jo({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:i,setToolbarWidth:l}=ee(),{setContainerRef:s,containerRect:c}=wt();oe(()=>{l(c==null?void 0:c.width)},[l,c==null?void 0:c.width]);const a=()=>t?t():n.createElement(Ee,{key:xe,label:"Close",icon:So,renderIcon:r,onClick:i});return n.createElement("div",{ref:s,style:o.toolbar,className:I(Qo())},e==null?void 0:e.map(u=>u===xe?a():u))}const er=J(nn,Jo);function Fn(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(o=>Fn(o,t)))}function tr(e,t={}){const{easing:r,...o}=e,{easing:i,...l}=t;return{easing:{...r,...i},...o,...l}}function nr({carousel:e,animation:t,render:r,toolbar:o,controller:i,noScroll:l,on:s,plugins:c,slides:a,index:u,...d}){const{animation:f,carousel:E,render:p,toolbar:h,controller:g,noScroll:v,on:x,slides:C,index:m,plugins:T,...w}=lt,{config:S,augmentation:L}=bo([Z(jo,[Z(Yo,[Z(Ao,[Z(zo),Z(er),Z(Zo)])])])],c||T),F=L({animation:tr(f,t),carousel:{...E,...e},render:{...p,...r},toolbar:{...h,...o},controller:{...g,...i},noScroll:{...v,...l},on:{...x,...s},...w,...d});return F.open?n.createElement(_n,{...F},n.createElement(_o,{slides:a||C,index:Ue(u||m)},n.createElement(yo,null,n.createElement(Co,null,Fn(Z(qo,S),F))))):null}const Ce=e=>I("slide_".concat(e)),at={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},Ct=e=>({...at,...e});function or(){const{captions:e}=H();return Ct(e)}const An=n.createContext(null),xt=Q("useCaptions","CaptionsContext",An);function rr({captions:e,children:t}){const{ref:r,hidden:o}=Ct(e),[i,l]=n.useState(!o),s=n.useMemo(()=>({visible:i,show:()=>l(!0),hide:()=>l(!1)}),[i]);return n.useImperativeHandle(r,()=>s,[s]),n.createElement(An.Provider,{value:s},t)}function ir({title:e}){const{toolbarWidth:t}=ee(),{styles:r}=H(),{visible:o}=xt();return o?n.createElement("div",{style:r.captionsTitleContainer,className:B(Ce("captions_container"),Ce("title_container"))},n.createElement("div",{className:Ce("title"),style:{...t?{[V("toolbar_width")]:"".concat(t,"px")}:null,...r.captionsTitle}},e)):null}function lr({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:r}=or(),{styles:o}=H(),{visible:i}=xt();return i?n.createElement("div",{style:o.captionsDescriptionContainer,className:B(Ce("captions_container"),Ce("description_container"))},n.createElement("div",{className:Ce("description"),style:{...t!==at.descriptionTextAlign||r!==at.descriptionMaxLines?{[V("slide_description_text_align")]:t,[V("slide_description_max_lines")]:r}:null,...o.captionsDescription}},typeof e=="string"?e.split("\n").flatMap((l,s)=>[...s>0?[n.createElement("br",{key:s})]:[],l]):e)):null}const Vn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),sr=K("CaptionsVisible",Vn()),cr=Ln("CaptionsVisible",Vn());function ar(){const{visible:e,show:t,hide:r}=xt(),{render:o}=H();return o.buttonCaptions?n.createElement(n.Fragment,null,o.buttonCaptions({visible:e,show:t,hide:r})):n.createElement(Ee,{label:e?"Hide captions":"Show captions",icon:e?sr:cr,renderIcon:e?o.iconCaptionsVisible:o.iconCaptionsHidden,onClick:e?r:t})}function ur({augment:e,addModule:t}){e(({captions:r,render:{slideFooter:o,...i},toolbar:l,...s})=>{const c=Ct(r);return{render:{slideFooter:({slide:a})=>n.createElement(n.Fragment,null,o==null?void 0:o({slide:a}),a.title&&n.createElement(ir,{title:a.title}),a.description&&n.createElement(lr,{description:a.description})),...i},toolbar:Oe(l,Ot,c.showToggle?n.createElement(ar,null):null),captions:c,...s}}),t(J(Ot,rr))}const dr={auto:!1,ref:null},$n=e=>({...dr,...e}),Wn=n.createContext(null),fr=Q("useFullscreen","FullscreenContext",Wn);function hr({fullscreen:e,on:t,children:r}){const{auto:o,ref:i}=$n(e),l=n.useRef(null),[s,c]=n.useState(),[a,u]=n.useState(!1),d=n.useRef(!1),{getOwnerDocument:f}=_e();oe(()=>{var m,T,w,S;const L=f();c(!((S=(w=(T=(m=L.fullscreenEnabled)!==null&&m!==void 0?m:L.webkitFullscreenEnabled)!==null&&T!==void 0?T:L.mozFullScreenEnabled)!==null&&w!==void 0?w:L.msFullscreenEnabled)!==null&&S!==void 0&&S))},[f]);const E=n.useCallback(()=>{var m;const T=f(),w=T.fullscreenElement||T.webkitFullscreenElement||T.mozFullScreenElement||T.msFullscreenElement;return((m=w==null?void 0:w.shadowRoot)===null||m===void 0?void 0:m.fullscreenElement)||w},[f]),p=n.useCallback(()=>{const m=l.current;try{m.requestFullscreen?m.requestFullscreen().catch(()=>{}):m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.msRequestFullscreen&&m.msRequestFullscreen()}catch(T){}},[]),h=n.useCallback(()=>{if(!E())return;const m=f();try{m.exitFullscreen?m.exitFullscreen().catch(()=>{}):m.webkitExitFullscreen?m.webkitExitFullscreen():m.mozCancelFullScreen?m.mozCancelFullScreen():m.msExitFullscreen&&m.msExitFullscreen()}catch(T){}},[E,f]);n.useEffect(()=>{const m=f(),T=()=>{u(E()===l.current)};return Pe(...["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].map(w=>(m.addEventListener(w,T),()=>m.removeEventListener(w,T))))},[E,f]);const g=k(()=>{var m;return(m=t.enterFullscreen)===null||m===void 0?void 0:m.call(t)}),v=k(()=>{var m;return(m=t.exitFullscreen)===null||m===void 0?void 0:m.call(t)});n.useEffect(()=>{a&&(d.current=!0),d.current&&(a?g:v)()},[a,g,v]);const x=k(()=>{var m;return(m=o?p:null)===null||m===void 0||m(),h});n.useEffect(x,[x]);const C=n.useMemo(()=>({fullscreen:a,disabled:s,enter:p,exit:h}),[a,s,p,h]);return n.useImperativeHandle(i,()=>C,[C]),n.createElement("div",{ref:l,className:B(I(Re),I(sn))},n.createElement(Wn.Provider,{value:C},r))}const mr=K("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),pr=K("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function vr(){var e;const{fullscreen:t,disabled:r,enter:o,exit:i}=fr(),{render:l}=H();return r?null:l.buttonFullscreen?n.createElement(n.Fragment,null,(e=l.buttonFullscreen)===null||e===void 0?void 0:e.call(l,{fullscreen:t,disabled:r,enter:o,exit:i})):n.createElement(Ee,{disabled:r,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?pr:mr,renderIcon:t?l.iconExitFullscreen:l.iconEnterFullscreen,onClick:t?i:o})}function gr({augment:e,contains:t,addParent:r}){e(({fullscreen:o,toolbar:i,...l})=>({toolbar:Oe(i,Re,n.createElement(vr,null)),fullscreen:$n(o),...l})),r(t(Ne)?Ne:Ze,J(Re,hr))}const Er={autoplay:!1,delay:3e3,ref:null},zn=e=>({...Er,...e}),Hn=n.createContext(null),br=Q("useSlideshow","SlideshowContext",Hn);function wr({slideshow:e,carousel:{finite:t},on:r,children:o}){const{autoplay:i,delay:l,ref:s}=zn(e),c=n.useRef(i),[a,u]=n.useState(i),d=n.useRef(),f=n.useRef(),{slides:E,currentIndex:p}=le(),{setTimeout:h,clearTimeout:g}=De(),{subscribe:v}=ge(),{next:x}=ee(),C=E.length===0||t&&p===E.length-1,m=n.useCallback(()=>{!a&&!C&&u(!0)},[a,C]),T=n.useCallback(()=>{a&&u(!1)},[a]),w=n.useCallback(()=>{g(d.current),d.current=void 0},[g]),S=k(()=>{w(),!(!a||C||f.current===we||f.current===ot)&&(d.current=h(()=>{a&&(f.current=void 0,x())},l))});n.useEffect(S,[p,a,S]),n.useEffect(()=>{a&&C&&u(!1)},[p,a,C]);const L=k(()=>{var M;return(M=r.slideshowStart)===null||M===void 0?void 0:M.call(r)}),F=k(()=>{var M;return(M=r.slideshowStop)===null||M===void 0?void 0:M.call(r)});n.useEffect(()=>{a?L():c.current&&F(),c.current=a},[a,L,F]),n.useEffect(()=>Pe(w,v(on,()=>{f.current=we,w()}),v(rn,()=>{f.current=ot,w()}),v(io,()=>{f.current=Le,S()}),v(ln,()=>{f.current=Te,S()})),[v,w,S]);const b=n.useMemo(()=>({playing:a,disabled:C,play:m,pause:T}),[a,C,m,T]);return n.useImperativeHandle(s,()=>b,[b]),n.createElement(Hn.Provider,{value:b},o)}const Cr=K("Play",n.createElement("path",{d:"M8 5v14l11-7z"})),xr=K("Pause",n.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}));function Pr(){const{playing:e,disabled:t,play:r,pause:o}=br(),{render:i}=H(),l=Tn(ee().focus,t);return i.buttonSlideshow?n.createElement(n.Fragment,null,i.buttonSlideshow({playing:e,disabled:t,play:r,pause:o})):n.createElement(Ee,{label:e?"Pause":"Play",icon:e?xr:Cr,renderIcon:e?i.iconSlideshowPause:i.iconSlideshowPlay,onClick:e?o:r,disabled:t,...l})}function _r({augment:e,addModule:t}){e(({slideshow:r,toolbar:o,...i})=>({toolbar:Oe(o,Dt,n.createElement(Pr,null)),slideshow:zn(r),...i})),t(J(Dt,wr))}const ue={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},Pt=e=>({...ue,...e});function Zn(){const{thumbnails:e}=H();return Pt(e)}const fe=e=>me(Ne,e),U=e=>fe(me("thumbnail",e)),yr=K("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),Sr=K("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function Mr({slide:e,render:t,rect:r,imageFit:o}){var i;const l=(i=t.thumbnail)===null||i===void 0?void 0:i.call(t,{slide:e,render:t,rect:r,imageFit:o});if(l)return l;const s={render:t,rect:r,imageFit:o};if(e.thumbnail)return n.createElement(de,{slide:{src:e.thumbnail},...s});if(ve(e))return n.createElement(de,{slide:e,...s});const c=I(U(ze));return e.type==="video"?n.createElement(n.Fragment,null,e.poster&&n.createElement(de,{slide:{src:e.poster},...s}),n.createElement(yr,{className:c})):n.createElement(Sr,{className:c})}const Ir=pe("active"),tt=pe("fadein"),nt=pe("fadeout"),Lr=pe("placeholder"),Yt="delay",Kt="duration";function Tr({slide:e,onClick:t,active:r,fadeIn:o,fadeOut:i,placeholder:l,onLoseFocus:s}){const c=n.useRef(null),{render:a,styles:u}=H(),{getOwnerDocument:d}=_e(),{width:f,height:E,imageFit:p}=Zn(),h={width:f,height:E},g=k(s);return n.useEffect(()=>{i&&d().activeElement===c.current&&g()},[i,g,d]),n.createElement("button",{ref:c,type:"button",className:B(I(he),I(U()),r&&I(U(Ir())),o&&I(U(tt())),i&&I(U(nt())),l&&I(U(Lr()))),style:{...o?{[V(U(tt(Kt)))]:"".concat(o.duration,"ms"),[V(U(tt(Yt)))]:"".concat(o.delay,"ms")}:null,...i?{[V(U(nt(Kt)))]:"".concat(i.duration,"ms"),[V(U(nt(Yt)))]:"".concat(i.delay,"ms")}:null,...u.thumbnail},onClick:t},e&&Mr({slide:e,render:a,rect:h,imageFit:p}))}function jt(e){return["top","bottom"].includes(e)}function Gt(e,t){return t+2*(e.border+e.padding)+e.gap}function Rr(e){const{thumbnail:t,poster:r}=e||{thumbnail:"placeholder"};return typeof t=="string"&&t||typeof r=="string"&&r||e&&En(e)||void 0}function qt({visible:e,containerRef:t}){const r=n.useRef(null),o=Be(),{publish:i,subscribe:l}=ge(),{carousel:s,styles:c}=H(),{slides:a,globalIndex:u,animation:d}=le(),{registerSensors:f,subscribeSensors:E}=Rn();Dn(E);const p=Zn(),{position:h,width:g,height:v,border:x,borderStyle:C,borderColor:m,borderRadius:T,padding:w,gap:S,vignette:L}=p,F=(d==null?void 0:d.duration)||0,b=F>0&&(d==null?void 0:d.increment)||0,{prepareAnimation:M}=st(r,P=>({keyframes:jt(h)?[{transform:"translateX(".concat((o?-1:1)*Gt(p,g)*b+P,"px)")},{transform:"translateX(0)"}]:[{transform:"translateY(".concat(Gt(p,v)*b+P,"px)")},{transform:"translateY(0)"}],duration:F,easing:d==null?void 0:d.easing})),O=k(()=>{let P=0;if(t.current&&r.current){const R=t.current.getBoundingClientRect(),D=r.current.getBoundingClientRect();P=jt(h)?D.left-R.left-(R.width-D.width)/2:D.top-R.top-(R.height-D.height)/2}M(P)});n.useEffect(()=>Pe(l(rt,O)),[l,O]);const A=bn(s,a),$=[];if(gt(a))for(let P=u-A-Math.abs(b);P<=u+A+Math.abs(b);P+=1){const D=s.finite&&(P<0||P>a.length-1)||b<0&&P<u-A||b>0&&P>u+A?null:Et(a,P),z=["".concat(P),Rr(D)].filter(Boolean).join("|");$.push({key:z,index:P,slide:D})}const y=P=>()=>{P>u?i(ce,{count:P-u}):P<u&&i(se,{count:u-P})};return n.createElement("div",{className:B(I(fe("container")),I(he)),style:{...e?null:{display:"none"},...g!==ue.width?{[V(U("width"))]:"".concat(g,"px")}:null,...v!==ue.height?{[V(U("height"))]:"".concat(v,"px")}:null,...x!==ue.border?{[V(U("border"))]:"".concat(x,"px")}:null,...C?{[V(U("border_style"))]:C}:null,...m?{[V(U("border_color"))]:m}:null,...T!==ue.borderRadius?{[V(U("border_radius"))]:"".concat(T,"px")}:null,...w!==ue.padding?{[V(U("padding"))]:"".concat(w,"px")}:null,...S!==ue.gap?{[V(U("gap"))]:"".concat(S,"px")}:null,...c.thumbnailsContainer}},n.createElement("nav",{ref:r,style:c.thumbnailsTrack,className:B(I(fe("track")),I(he)),tabIndex:-1,...f},$.map(({key:P,index:R,slide:D})=>{const z=F/Math.abs(b||1),j=b>0&&R>u+A-b&&R<=u+A||b<0&&R<u-A-b&&R>=u-A?{duration:z,delay:((b>0?R-(u+A-b):u-A-b-R)-1)*z}:void 0,te=b>0&&R<u-A||b<0&&R>u+A?{duration:z,delay:(b>0?b-(u-A-R):-b-(R-(u+A)))*z}:void 0;return n.createElement(Tr,{key:P,slide:D,active:R===u,fadeIn:j,fadeOut:te,placeholder:!D,onClick:y(R),onLoseFocus:()=>{var N;return(N=r.current)===null||N===void 0?void 0:N.focus()}})})),L&&n.createElement("div",{className:I(fe("vignette"))}))}const Un=n.createContext(null),Nr=Q("useThumbnails","ThumbnailsContext",Un);function kr({children:e,...t}){const{ref:r,position:o,hidden:i}=Pt(t.thumbnails),[l,s]=n.useState(!i),c=n.useRef(null),a=n.useMemo(()=>({visible:l,show:()=>s(!0),hide:()=>s(!1)}),[l]);return n.useImperativeHandle(r,()=>a,[a]),n.createElement(_n,{...t},n.createElement(Un.Provider,{value:a},n.createElement("div",{ref:c,className:B(I(fe()),I(fe("".concat(o))))},["start","top"].includes(o)&&n.createElement(qt,{containerRef:c,visible:l}),n.createElement("div",{className:I(fe("wrapper"))},e),["end","bottom"].includes(o)&&n.createElement(qt,{containerRef:c,visible:l}))))}const Bn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),Or=K("ThumbnailsVisible",Bn()),Dr=Ln("ThumbnailsHidden",Bn());function Fr(){const{visible:e,show:t,hide:r}=Nr(),{render:o}=H();return o.buttonThumbnails?n.createElement(n.Fragment,null,o.buttonThumbnails({visible:e,show:t,hide:r})):n.createElement(Ee,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?Or:Dr,renderIcon:e?o.iconThumbnailsVisible:o.iconThumbnailsHidden,onClick:e?r:t})}function Ar({augment:e,contains:t,append:r,addParent:o}){e(({thumbnails:l,toolbar:s,...c})=>{const a=Pt(l);return{toolbar:Oe(s,Ne,a.showToggle?n.createElement(Fr,null):null),thumbnails:a,...c}});const i=J(Ne,kr);t(Re)?r(Re,i):o(Ze,i)}const Vr={controls:!0,playsInline:!0},Xn=e=>({...Vr,...e});function $r(){const{video:e}=H();return Xn(e)}function Wr({slide:e,offset:t}){const r=$r(),{publish:o}=ge(),{setContainerRef:i,containerRect:l}=wt(),s=n.useRef(null);n.useEffect(()=>{t!==0&&s.current&&!s.current.paused&&s.current.pause()},[t]),n.useEffect(()=>{t===0&&s.current&&(e.autoPlay||r.autoPlay)&&(o(on),s.current.play().catch(()=>{}))},[t,r.autoPlay,e.autoPlay,o]);const c=k(v=>{t===0&&(r.autoPlay||e.autoPlay)&&v.paused&&v.play().catch(()=>{})}),a=n.useCallback(v=>{s.current=v,v&&c(v)},[c]),{width:u,height:d,poster:f,sources:E}=e,p=()=>{const v={};if(v.style={maxWidth:"100%",maxHeight:"100%"},u&&d&&l){const x=u/d>l.width/l.height,C=x?l.width:Math.round(l.height/d*u),m=x?Math.round(l.width/u*d):l.height;v.width=C,v.height=m,v.style.width=C,v.style.height=m}return v},h=v=>e[v]===!1?null:e[v]===!0?{[v]:!0}:r[v]===!1?null:r[v]===!0?{[v]:!0}:null,g=v=>r[v]||e[v]?{[v]:e[v]||r[v]}:null;return n.createElement(n.Fragment,null,E&&n.createElement("div",{ref:i,style:{width:"100%",height:"100%",...u?{maxWidth:"".concat(u,"px")}:null},className:B(I("video_container"),I(he),I(dt))},l&&n.createElement("video",{ref:a,poster:f,...p(),...h("controls"),...h("playsInline"),...h("loop"),...h("muted"),...h("playsInline"),...h("disablePictureInPicture"),...h("disableRemotePlayback"),...g("controlsList"),...g("crossOrigin"),...g("preload"),onPlay:()=>{o(rn)},onEnded:()=>{o(ln)}},E.map(({src:v,type:x,media:C})=>n.createElement("source",{key:[v,x,C].filter(Boolean).join("|"),src:v,type:x,media:C})))))}function zr(e){return e.type==="video"}function Hr({augment:e}){e(({render:{slide:t,...r},video:o,...i})=>({render:{slide:({slide:l,offset:s,rect:c})=>{var a;return zr(l)?n.createElement(Wr,{key:(a=l.sources)===null||a===void 0?void 0:a.map(u=>u.src).join("|"),slide:l,offset:s}):t==null?void 0:t({slide:l,offset:s,rect:c})},...r},video:Xn(o),...i}))}const Zr={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},Yn=e=>({...Zr,...e});function Ur(e,t,r,o){const i=n.useRef(),l=n.useRef(),{zoom:s}=H().animation,c=bt(),a=k(()=>{var u,d,f;if((u=i.current)===null||u===void 0||u.cancel(),i.current=void 0,l.current&&(o!=null&&o.current)){try{i.current=(f=(d=o.current).animate)===null||f===void 0?void 0:f.call(d,[{transform:l.current},{transform:"scale(".concat(e,") translateX(").concat(t,"px) translateY(").concat(r,"px)")}],{duration:c?0:s!=null?s:500,easing:i.current?"ease-out":"ease-in-out"})}catch(E){}l.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return oe(a,[e,t,r,a]),n.useCallback(()=>{l.current=o!=null&&o.current?window.getComputedStyle(o.current).transform:void 0},[o])}function Br(e,t){const{on:r}=H(),o=k(()=>{var i;t||(i=r.zoom)===null||i===void 0||i.call(r,{zoom:e})});n.useEffect(o,[e,o])}function Xe(){const{zoom:e}=H();return Yn(e)}function Xr(e,t){var r,o;let i={width:0,height:0},l={width:0,height:0};const{currentSlide:s}=le(),{imageFit:c}=H().carousel,{maxZoomPixelRatio:a}=Xe();if(e&&s){const d={...s,...t};if(ve(d)){const f=vt(d,c),E=Math.max(...(((r=d.srcSet)===null||r===void 0?void 0:r.map(h=>h.width))||[]).concat(d.width?[d.width]:[])),p=Math.max(...(((o=d.srcSet)===null||o===void 0?void 0:o.map(h=>h.height))||[]).concat(d.height?[d.height]:[]));E>0&&p>0&&e.width>0&&e.height>0&&(l=f?{width:Math.round(Math.min(E,e.width/e.height*p)),height:Math.round(Math.min(p,e.height/e.width*E))}:{width:E,height:p},l={width:l.width*a,height:l.height*a},i=f?{width:Math.min(e.width,l.width,E),height:Math.min(e.height,l.height,p)}:{width:Math.round(Math.min(e.width,e.height/p*E,E)),height:Math.round(Math.min(e.height,e.width/E*p,p))})}}const u=i.width?Math.max(pt(l.width/i.width,5),1):1;return{imageRect:i,maxZoom:u}}function Qt(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function Jt(e,t,r=100,o=2){return e*Math.min(1+Math.abs(t/r),o)**Math.sign(t)}function Yr(e,t,r,o,i,l){const s=n.useRef([]),c=n.useRef(0),a=n.useRef(),{globalIndex:u}=le(),{getOwnerWindow:d}=_e(),{containerRef:f,subscribeSensors:E}=ee(),{keyboardMoveDistance:p,zoomInMultiplier:h,wheelZoomDistanceFactor:g,scrollToZoom:v,doubleTapDelay:x,doubleClickDelay:C,doubleClickMaxStops:m,pinchZoomDistanceFactor:T}=Xe(),w=n.useCallback(y=>{if(f.current){const{pageX:P,pageY:R}=y,{scrollX:D,scrollY:z}=d(),{left:j,top:te,width:N,height:G}=f.current.getBoundingClientRect();return[P-j-D-N/2,R-te-z-G/2]}return[]},[f,d]),S=k(y=>{const P=()=>{y.preventDefault(),y.stopPropagation()};if(e>1){const z=(j,te)=>{P(),i(j,te)};y.key==="ArrowDown"?z(0,p):y.key==="ArrowUp"?z(0,-p):y.key==="ArrowLeft"?z(-p,0):y.key==="ArrowRight"&&z(p,0)}const R=z=>{P(),o(z)},D=()=>y.getModifierState("Meta");y.key==="+"||y.key==="="&&D()?R(e*h):y.key==="-"||y.key==="_"&&D()?R(e/h):y.key==="0"&&D()&&R(1)}),L=k(y=>{if((y.ctrlKey||v)&&Math.abs(y.deltaY)>Math.abs(y.deltaX)){y.stopPropagation(),o(Jt(e,-y.deltaY,g),!0,...w(y));return}e>1&&(y.stopPropagation(),v||i(y.deltaX,y.deltaY))}),F=n.useCallback(y=>{const P=s.current;P.splice(0,P.length,...P.filter(R=>R.pointerId!==y.pointerId))},[]),b=n.useCallback(y=>{F(y),y.persist(),s.current.push(y)},[F]),M=k(y=>{var P;const R=s.current;if(y.pointerType==="mouse"&&y.buttons>1||!(!((P=l==null?void 0:l.current)===null||P===void 0)&&P.contains(y.target)))return;e>1&&y.stopPropagation();const{timeStamp:D}=y;R.length===0&&D-c.current<(y.pointerType==="touch"?x:C)?(c.current=0,o(e!==t?e*Math.max(t**(1/m),h):1,!1,...w(y))):c.current=D,b(y),R.length===2&&(a.current=Qt(R[0],R[1]))}),O=k(y=>{const P=s.current,R=P.find(D=>D.pointerId===y.pointerId);if(P.length===2&&a.current){y.stopPropagation(),b(y);const D=Qt(P[0],P[1]),z=D-a.current;Math.abs(z)>0&&(o(Jt(e,z,T),!0,...P.map(j=>w(j)).reduce((j,te)=>te.map((N,G)=>j[G]+N/2))),a.current=D);return}e>1&&(y.stopPropagation(),R&&(P.length===1&&i((R.clientX-y.clientX)/e,(R.clientY-y.clientY)/e),b(y)))}),A=n.useCallback(y=>{const P=s.current;P.length===2&&P.find(R=>R.pointerId===y.pointerId)&&(a.current=void 0),F(y)},[F]),$=n.useCallback(()=>{const y=s.current;y.splice(0,y.length),c.current=0,a.current=void 0},[]);Nn(E,M,O,A,r),n.useEffect($,[u,$]),n.useEffect(()=>r?()=>{}:Pe($,E(ft,S),E(ht,L)),[r,E,$,S,L])}function Kr(e,t,r){const[o,i]=n.useState(1),[l,s]=n.useState(0),[c,a]=n.useState(0),u=Ur(o,l,c,r),{currentSlide:d,globalIndex:f}=le(),{containerRect:E,slideRect:p}=ee(),{zoomInMultiplier:h}=Xe(),g=d&&ve(d)?d.src:void 0,v=!g||!(r!=null&&r.current);oe(()=>{i(1),s(0),a(0)},[f,g]);const x=n.useCallback((S,L,F)=>{const b=F||o,M=l-(S||0),O=c-(L||0),A=(e.width*b-p.width)/2/b,$=(e.height*b-p.height)/2/b;s(Math.min(Math.abs(M),Math.max(A,0))*Math.sign(M)),a(Math.min(Math.abs(O),Math.max($,0))*Math.sign(O))},[o,l,c,p,e.width,e.height]),C=n.useCallback((S,L,F,b)=>{const M=pt(Math.min(Math.max(S+.001<t?S:t,1),t),5);M!==o&&(L||u(),x(F?F*(1/o-1/M):0,b?b*(1/o-1/M):0,M),i(M))},[o,t,x,u]),m=k(()=>{o>1&&(o>t&&C(t,!0),x())});oe(m,[E.width,E.height,m]);const T=n.useCallback(()=>C(o*h),[o,h,C]),w=n.useCallback(()=>C(o/h),[o,h,C]);return{zoom:o,offsetX:l,offsetY:c,disabled:v,changeOffsets:x,changeZoom:C,zoomIn:T,zoomOut:w}}const Kn=n.createContext(null),_t=Q("useZoom","ZoomControllerContext",Kn);function jr({children:e}){const[t,r]=n.useState(),{slideRect:o}=ee(),{imageRect:i,maxZoom:l}=Xr(o,t==null?void 0:t.imageDimensions),{zoom:s,offsetX:c,offsetY:a,disabled:u,changeZoom:d,changeOffsets:f,zoomIn:E,zoomOut:p}=Kr(i,l,t==null?void 0:t.zoomWrapperRef);Br(s,u),Yr(s,l,u,d,f,t==null?void 0:t.zoomWrapperRef);const h=n.useMemo(()=>({zoom:s,maxZoom:l,offsetX:c,offsetY:a,disabled:u,zoomIn:E,zoomOut:p,changeZoom:d}),[s,l,c,a,u,E,p,d]);n.useImperativeHandle(Xe().ref,()=>h,[h]);const g=n.useMemo(()=>({...h,setZoomWrapper:r}),[h,r]);return n.createElement(Kn.Provider,{value:g},e)}const Gr=K("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),qr=K("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),en=n.forwardRef(function({zoomIn:t,onLoseFocus:r},o){const i=n.useRef(!1),l=n.useRef(!1),{zoom:s,maxZoom:c,zoomIn:a,zoomOut:u,disabled:d}=_t(),{render:f}=H(),E=d||(t?s>=c:s<=1);return n.useEffect(()=>{E&&i.current&&l.current&&r(),E||(i.current=!0)},[E,r]),n.createElement(Ee,{ref:o,disabled:E,label:t?"Zoom in":"Zoom out",icon:t?Gr:qr,renderIcon:t?f.iconZoomIn:f.iconZoomOut,onClick:t?a:u,onFocus:()=>{l.current=!0},onBlur:()=>{l.current=!1}})});function Qr(){const e=n.useRef(null),t=n.useRef(null),{focus:r}=ee(),o=n.useCallback(s=>{var c,a;!((c=s.current)===null||c===void 0)&&c.disabled?r():(a=s.current)===null||a===void 0||a.focus()},[r]),i=n.useCallback(()=>o(e),[o]),l=n.useCallback(()=>o(t),[o]);return n.createElement(n.Fragment,null,n.createElement(en,{zoomIn:!0,ref:e,onLoseFocus:l}),n.createElement(en,{ref:t,onLoseFocus:i}))}function Jr(){const{render:e}=H(),t=_t();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(Qr,null)}function ei(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function ti({current:e,preload:t},{type:r,source:o}){switch(r){case"fetch":return e?{current:e,preload:o}:{current:o};case"done":return o===t?{current:o}:{current:e,preload:t};default:throw new Error(pn)}}function ni(e){var t,r;const[{current:o,preload:i},l]=n.useReducer(ti,{}),{slide:s,rect:c,imageFit:a,render:u,interactive:d}=e,f=s.srcSet.sort((w,S)=>w.width-S.width),E=(t=s.width)!==null&&t!==void 0?t:f[f.length-1].width,p=(r=s.height)!==null&&r!==void 0?r:f[f.length-1].height,h=vt(s,a),g=Math.max(...f.map(w=>w.width)),v=Math.min((h?Math.max:Math.min)(c.width,E*(c.height/p)),g),x=vo(),C=k(()=>{var w;const S=(w=f.find(L=>L.width>=v*x))!==null&&w!==void 0?w:f[f.length-1];(!o||f.findIndex(L=>L.src===o)<f.findIndex(L=>L===S))&&l({type:"fetch",source:S.src})});oe(C,[c.width,c.height,x,C]);const m=k(w=>l({type:"done",source:w})),T={WebkitTransform:d?"initial":"translateZ(0)"};return h||Object.assign(T,c.width/c.height<E/p?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,i&&i!==o&&n.createElement(de,{key:"preload",...e,slide:{...s,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...T},onLoad:()=>m(i),render:{...u,iconLoading:()=>null,iconError:()=>null}}),o&&n.createElement(de,{key:"current",...e,slide:{...s,src:o,srcSet:void 0},style:T}))}function oi({render:e,slide:t,offset:r,rect:o}){var i;const[l,s]=n.useState(),c=n.useRef(null),{zoom:a,maxZoom:u,offsetX:d,offsetY:f,setZoomWrapper:E}=_t(),p=a>1,{carousel:h,on:g}=H(),{currentIndex:v}=le();oe(()=>r===0?(E({zoomWrapperRef:c,imageDimensions:l}),()=>E(void 0)):()=>{},[r,l,E]);let x=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:r,rect:o,zoom:a,maxZoom:u});if(!x&&ve(t)){const C={slide:t,offset:r,rect:o,render:e,imageFit:h.imageFit,imageProps:h.imageProps,onClick:r===0?()=>{var m;return(m=g.click)===null||m===void 0?void 0:m.call(g,{index:v})}:void 0};x=ei(t)?n.createElement(ni,{...C,slide:t,interactive:p,rect:r===0?{width:o.width*a,height:o.height*a}:o}):n.createElement(de,{onLoad:m=>s({width:m.naturalWidth,height:m.naturalHeight}),...C})}return x?n.createElement("div",{ref:c,className:B(I(sn),I(he),I(dt),p&&I(so)),style:r===0?{transform:"scale(".concat(a,") translateX(").concat(d,"px) translateY(").concat(f,"px)")}:void 0},x):null}const ri=({augment:e,addModule:t})=>{e(({zoom:r,toolbar:o,render:i,controller:l,...s})=>{const c=Yn(r);return{zoom:c,toolbar:Oe(o,Ft,n.createElement(Jr,null)),render:{...i,slide:a=>{var u;return ve(a.slide)?n.createElement(oi,{render:i,...a}):(u=i.slide)===null||u===void 0?void 0:u.call(i,a)}},controller:{...l,preventDefaultWheelY:c.scrollToZoom},...s}}),t(J(Ft,jr))};function si(e){return kt.jsx("div",{children:kt.jsx(nr,{plugins:[ur,gr,_r,Ar,Hr,ri],...e})})}export{si as R};
