import{j as e,a as p,g as u,e as j,I as y,B as f}from"./index-DEa_txxx.js";import{r as x}from"./router-DWxcwEcu.js";import{C as N,b as v}from"./card-CArCQTth.js";import{P as b}from"./index-CDMi5S0L.js";import{P as w}from"./index-CHWdEz7k.js";import{h}from"./moment-CbGOrKEH.js";import{u as T,o as D,F as C,c as I,a as r,g as P}from"./switch-Dki4Nm8l.js";import{R as g}from"./RHFTextField-BIF68JPT.js";import{S as m}from"./separator-BaqTMRDP.js";import"./headlessui-DlCzxctq.js";import"./axios-BrYcoDUu.js";function F({collectionData:t}){var o,d,c,n,a;return t!=null&&t.isFetching?e.jsx(e.Fragment,{children:Array.from({length:10}).map((s,i)=>e.jsx("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm",children:e.jsx("div",{className:"animate-pulse flex space-x-4",children:e.jsxs("div",{className:"flex-1 space-y-4 py-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})})},i+1))}):e.jsx("div",{children:t.status==="success"&&((c=(d=(o=t==null?void 0:t.data)==null?void 0:o.data)==null?void 0:d.details)==null?void 0:c.length)>0?(a=(n=t.data.data)==null?void 0:n.details)==null?void 0:a.map((s,i)=>e.jsx("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm mt-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 justify-center items-center",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:"Consumer no"}),e.jsx("div",{className:"text-xs font-semibold text-gray-500 w-30 truncate",children:s==null?void 0:s.consumerNo}),e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:"Consumer Name"}),e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:s==null?void 0:s.consumerName}),e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:"Ward :"}),e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:s.wardNo}),e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:"Deactivated date :"}),e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:s.deactivateDate}),e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:"Remarks :"}),e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:s.remarks}),e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:"Deactivated By :"}),e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:s.deactivateBy})]})},i+1)):e.jsx("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"text-xs font-semibold text-gray-500",children:"No Data Found"})})})})}const S=I().shape({fromDate:r(),toDate:r(),tcId:r(),consumerCategory:r(),consumerType:r(),buildingType:r(),mode:r(),wardNo:r().nullable(),reportType:r(),userId:P()});function V(){const{user:t}=p(),[o,d]=x.useState(1),[c,n]=x.useState(10),a=T({resolver:D(S),defaultValues:{fromDate:h().format("YYYY-MM-DD"),toDate:h().format("YYYY-MM-DD"),tcId:"",consumerCategory:"",consumerType:"",buildingType:"",mode:"",wardNo:null,reportType:"conDect",userId:t==null?void 0:t.id}}),s=u({api:j.getReportData,config:{fromDate:a.watch("fromDate"),toDate:a.watch("toDate"),tcId:(t==null?void 0:t.userTypeId)==5||a.watch("tcId")!=""?a.watch("tcId"):"",consumerCategory:a.watch("consumerCategory"),consumerType:a.watch("consumerType"),buildingType:a.watch("buildingType"),mode:a.watch("mode"),wardNo:a.watch("wardNo"),reportType:a.watch("reportType"),userId:a.watch("userId")},options:{enabled:!0}}),i=async l=>{d(1),n(10),s.refetch()};return e.jsx(w,{title:"Deactivated List",children:e.jsxs("main",{className:"py-6 grid grid-cols-1 gap-4 px-4",children:[e.jsxs("div",{className:"flex space-x-3 items-center justify-start",children:[e.jsx(y,{src:"/assets/image/deactivate.png",alt:"Add Consumer",className:"w-11 h-11 rounded-lg bg-gray-200 p-2"}),e.jsxs("div",{className:"",children:[e.jsx("h1",{className:" font-semibold",children:"Deactivated List"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Solid waste management system"})]})]}),e.jsx(m,{}),e.jsx(N,{className:"overflow-hidden py-4","x-chunk":"dashboard-05-chunk-4",children:e.jsx(v,{className:"px-6 text-sm",children:e.jsx(C,{methods:a,onSubmit:a.handleSubmit(i),children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsx(g,{name:"fromDate",label:"From Date",className:"w-full",type:"date"})}),e.jsx("div",{children:e.jsx(g,{name:"toDate",label:"To Date",className:"w-full",type:"date"})}),e.jsx("div",{className:"col-span-2 mt-2",children:e.jsx(f,{type:"submit",variant:"default",size:"sm",className:"rounded-md w-24",children:"Search"})})]})})})}),e.jsx(m,{}),e.jsx(F,{collectionData:s}),(s==null?void 0:s.status)==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(b,{page:o,perPage:c,totalPage:10,setPage:l=>d(l)}),e.jsx(m,{})]})]})})}export{V as default};
